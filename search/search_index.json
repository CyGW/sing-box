{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Home Welcome to the wiki page for the sing-box project. The universal proxy platform. Installation sing-box requires Golang 1.18 or a higher version. go install -v github.com/sagernet/sing-box/cmd/sing-box@latest Install with options: go install -v -tags \"with_clash_api,no_gvisor\" github.com/sagernet/sing-box/cmd/sing-box@latest Build Tag Description with_clash_api Build with clash api support, see Experimental . no_gvisor Build without gVisor, which required by the Tun inbound. The binary is built under $GOPATH/bin sing-box version License Copyright (C) 2022 by nekohasekai <contact-sagernet@sekai.icu> This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/>.","title":"Getting Started"},{"location":"#home","text":"Welcome to the wiki page for the sing-box project. The universal proxy platform.","title":"Home"},{"location":"#installation","text":"sing-box requires Golang 1.18 or a higher version. go install -v github.com/sagernet/sing-box/cmd/sing-box@latest Install with options: go install -v -tags \"with_clash_api,no_gvisor\" github.com/sagernet/sing-box/cmd/sing-box@latest Build Tag Description with_clash_api Build with clash api support, see Experimental . no_gvisor Build without gVisor, which required by the Tun inbound. The binary is built under $GOPATH/bin sing-box version","title":"Installation"},{"location":"#license","text":"Copyright (C) 2022 by nekohasekai <contact-sagernet@sekai.icu> This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/>.","title":"License"},{"location":"benchmark/","text":"Benchmark Shadowsocks / none aes-128-gcm 2022-blake3-aes-128-gcm v2ray-core (5.0.7) 13.0 Gbps 5.02 Gbps / shadowsocks-rust (v1.15.0-alpha.5) 10.7 Gbps / 9.36 Gbps sing-box 29.0 Gbps / 11.8 Gbps","title":"Benchmark"},{"location":"benchmark/#benchmark","text":"","title":"Benchmark"},{"location":"benchmark/#shadowsocks","text":"/ none aes-128-gcm 2022-blake3-aes-128-gcm v2ray-core (5.0.7) 13.0 Gbps 5.02 Gbps / shadowsocks-rust (v1.15.0-alpha.5) 10.7 Gbps / 9.36 Gbps sing-box 29.0 Gbps / 11.8 Gbps","title":"Shadowsocks"},{"location":"configuration/","text":"Introduction sing-box uses JSON for configuration files. Structure { \"log\" : {}, \"dns\" : {}, \"inbounds\" : {}, \"outbounds\" : {}, \"route\" : {}, \"experimental\" : {} } Fields Key Format log Log dns DNS inbounds Inbound outbounds Outbound route Route experimental Experimental Check $ sing-box check Format $ sing-box format -w","title":"Introduction"},{"location":"configuration/#introduction","text":"sing-box uses JSON for configuration files.","title":"Introduction"},{"location":"configuration/#structure","text":"{ \"log\" : {}, \"dns\" : {}, \"inbounds\" : {}, \"outbounds\" : {}, \"route\" : {}, \"experimental\" : {} }","title":"Structure"},{"location":"configuration/#fields","text":"Key Format log Log dns DNS inbounds Inbound outbounds Outbound route Route experimental Experimental","title":"Fields"},{"location":"configuration/#check","text":"$ sing-box check","title":"Check"},{"location":"configuration/#format","text":"$ sing-box format -w","title":"Format"},{"location":"configuration/experimental/","text":"Structure { \"experimental\" : { \"clash_api\" : { \"external_controller\" : \"127.0.0.1:9090\" , \"external_ui\" : \"folder\" , \"secret\" : \"\" } } } Clash API Fields Clash API is not included by default, see Installation . Traffic statistics and connection management will disable TCP splice in linux and reduce performance, use at your own risk. external_controller RESTful web API listening address. Disabled if empty. external_ui A relative path to the configuration directory or an absolute path to a directory in which you put some static web resource. Clash core will then serve it at http://{{external-controller}}/ui . secret Secret for the RESTful API (optional) Authenticate by spedifying HTTP header Authorization: Bearer ${secret} ALWAYS set a secret if RESTful API is listening on 0.0.0.0","title":"Experimental"},{"location":"configuration/experimental/#structure","text":"{ \"experimental\" : { \"clash_api\" : { \"external_controller\" : \"127.0.0.1:9090\" , \"external_ui\" : \"folder\" , \"secret\" : \"\" } } }","title":"Structure"},{"location":"configuration/experimental/#clash-api-fields","text":"Clash API is not included by default, see Installation . Traffic statistics and connection management will disable TCP splice in linux and reduce performance, use at your own risk.","title":"Clash API Fields"},{"location":"configuration/experimental/#external_controller","text":"RESTful web API listening address. Disabled if empty.","title":"external_controller"},{"location":"configuration/experimental/#external_ui","text":"A relative path to the configuration directory or an absolute path to a directory in which you put some static web resource. Clash core will then serve it at http://{{external-controller}}/ui .","title":"external_ui"},{"location":"configuration/experimental/#secret","text":"Secret for the RESTful API (optional) Authenticate by spedifying HTTP header Authorization: Bearer ${secret} ALWAYS set a secret if RESTful API is listening on 0.0.0.0","title":"secret"},{"location":"configuration/log/","text":"Log Structure { \"log\" : { \"disabled\" : false , \"level\" : \"info\" , \"output\" : \"box.log\" , \"timestamp\" : true } } Fields disabled Disable logging, no output after start. level Log level. One of: trace debug info warn error fatal panic . output Output file path. Will not write log to console after enable. timestamp Add time to each line.","title":"Log"},{"location":"configuration/log/#log","text":"","title":"Log"},{"location":"configuration/log/#structure","text":"{ \"log\" : { \"disabled\" : false , \"level\" : \"info\" , \"output\" : \"box.log\" , \"timestamp\" : true } }","title":"Structure"},{"location":"configuration/log/#fields","text":"","title":"Fields"},{"location":"configuration/log/#disabled","text":"Disable logging, no output after start.","title":"disabled"},{"location":"configuration/log/#level","text":"Log level. One of: trace debug info warn error fatal panic .","title":"level"},{"location":"configuration/log/#output","text":"Output file path. Will not write log to console after enable.","title":"output"},{"location":"configuration/log/#timestamp","text":"Add time to each line.","title":"timestamp"},{"location":"configuration/dns/","text":"Structure { \"dns\" : { \"servers\" : [], \"rules\" : [], \"final\" : \"\" , \"strategy\" : \"\" , \"disable_cache\" : false , \"disable_expire\" : false } } Fields Key Format server List of DNS Server rules List of DNS Rule final Default dns server tag. The first server will be used if empty. strategy Default domain strategy for resolving the domain names. One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . disable_cache Disable dns cache. disable_expire Disable dns cache expire.","title":"Index"},{"location":"configuration/dns/#structure","text":"{ \"dns\" : { \"servers\" : [], \"rules\" : [], \"final\" : \"\" , \"strategy\" : \"\" , \"disable_cache\" : false , \"disable_expire\" : false } }","title":"Structure"},{"location":"configuration/dns/#fields","text":"Key Format server List of DNS Server rules List of DNS Rule","title":"Fields"},{"location":"configuration/dns/#final","text":"Default dns server tag. The first server will be used if empty.","title":"final"},{"location":"configuration/dns/#strategy","text":"Default domain strategy for resolving the domain names. One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only .","title":"strategy"},{"location":"configuration/dns/#disable_cache","text":"Disable dns cache.","title":"disable_cache"},{"location":"configuration/dns/#disable_expire","text":"Disable dns cache expire.","title":"disable_expire"},{"location":"configuration/dns/rule/","text":"Structure { \"dns\" : { \"rules\" : [ { \"inbound\" : [ \"mixed-in\" ], \"network\" : \"tcp\" , \"user\" : [ \"usera\" , \"userb\" ], \"protocol\" : [ \"tls\" , \"http\" , \"quic\" ], \"domain\" : [ \"test.com\" ], \"domain_suffix\" : [ \".cn\" ], \"domain_keyword\" : [ \"test\" ], \"domain_regex\" : [ \"^stun\\\\..+\" ], \"geosite\" : [ \"cn\" ], \"source_geoip\" : [ \"private\" ], \"source_ip_cidr\" : [ \"10.0.0.0/24\" ], \"source_port\" : [ 12345 ], \"port\" : [ 80 , 443 ], \"outbound\" : [ \"direct\" ], \"server\" : \"local\" }, { \"type\" : \"logical\" , \"mode\" : \"and\" , \"rules\" : [], \"server\" : \"local\" } ] } } You can ignore the JSON Array [] tag when the content is only one item Default Fields The default rule uses the following matching logic: ( domain || domain_suffix || domain_keyword || domain_regex || geosite ) && ( source_geoip || source_ip_cidr ) && other fields inbound Tags of inbound . network tcp or udp . user Username, see each inbound for details. protocol Sniffed protocol, see Sniff for details. domain Match full domain. domain_suffix Match domain suffix. domain_keyword Match domain using keyword. domain_regex Match domain using regular expression. geosite Match geosite. source_geoip Match source geoip. source_ip_cidr Match source ip cidr. source_port Match source port. port Match port. outbound Match outbound. server Tag of the target dns server. Logical Fields type logical mode and or or rules Included default rules. server Required Tag of the target dns server.","title":"DNS Rule"},{"location":"configuration/dns/rule/#structure","text":"{ \"dns\" : { \"rules\" : [ { \"inbound\" : [ \"mixed-in\" ], \"network\" : \"tcp\" , \"user\" : [ \"usera\" , \"userb\" ], \"protocol\" : [ \"tls\" , \"http\" , \"quic\" ], \"domain\" : [ \"test.com\" ], \"domain_suffix\" : [ \".cn\" ], \"domain_keyword\" : [ \"test\" ], \"domain_regex\" : [ \"^stun\\\\..+\" ], \"geosite\" : [ \"cn\" ], \"source_geoip\" : [ \"private\" ], \"source_ip_cidr\" : [ \"10.0.0.0/24\" ], \"source_port\" : [ 12345 ], \"port\" : [ 80 , 443 ], \"outbound\" : [ \"direct\" ], \"server\" : \"local\" }, { \"type\" : \"logical\" , \"mode\" : \"and\" , \"rules\" : [], \"server\" : \"local\" } ] } } You can ignore the JSON Array [] tag when the content is only one item","title":"Structure"},{"location":"configuration/dns/rule/#default-fields","text":"The default rule uses the following matching logic: ( domain || domain_suffix || domain_keyword || domain_regex || geosite ) && ( source_geoip || source_ip_cidr ) && other fields","title":"Default Fields"},{"location":"configuration/dns/rule/#inbound","text":"Tags of inbound .","title":"inbound"},{"location":"configuration/dns/rule/#network","text":"tcp or udp .","title":"network"},{"location":"configuration/dns/rule/#user","text":"Username, see each inbound for details.","title":"user"},{"location":"configuration/dns/rule/#protocol","text":"Sniffed protocol, see Sniff for details.","title":"protocol"},{"location":"configuration/dns/rule/#domain","text":"Match full domain.","title":"domain"},{"location":"configuration/dns/rule/#domain_suffix","text":"Match domain suffix.","title":"domain_suffix"},{"location":"configuration/dns/rule/#domain_keyword","text":"Match domain using keyword.","title":"domain_keyword"},{"location":"configuration/dns/rule/#domain_regex","text":"Match domain using regular expression.","title":"domain_regex"},{"location":"configuration/dns/rule/#geosite","text":"Match geosite.","title":"geosite"},{"location":"configuration/dns/rule/#source_geoip","text":"Match source geoip.","title":"source_geoip"},{"location":"configuration/dns/rule/#source_ip_cidr","text":"Match source ip cidr.","title":"source_ip_cidr"},{"location":"configuration/dns/rule/#source_port","text":"Match source port.","title":"source_port"},{"location":"configuration/dns/rule/#port","text":"Match port.","title":"port"},{"location":"configuration/dns/rule/#outbound","text":"Match outbound.","title":"outbound"},{"location":"configuration/dns/rule/#server","text":"Tag of the target dns server.","title":"server"},{"location":"configuration/dns/rule/#logical-fields","text":"","title":"Logical Fields"},{"location":"configuration/dns/rule/#type","text":"logical","title":"type"},{"location":"configuration/dns/rule/#mode","text":"and or or","title":"mode"},{"location":"configuration/dns/rule/#rules","text":"Included default rules.","title":"rules"},{"location":"configuration/dns/rule/#server_1","text":"Required Tag of the target dns server.","title":"server"},{"location":"configuration/dns/server/","text":"Structure { \"dns\" : { \"servers\" : [ { \"tag\" : \"google\" , \"address\" : \"tls://dns.google\" , \"address_resolver\" : \"local\" , \"address_strategy\" : \"prefer_ipv4\" , \"detour\" : \"direct\" } ] } } Fields tag The tag of the dns server. address Required The address of the dns server. Protocol Format System local TCP tcp://1.0.0.1 UDP 8.8.8.8 udp://8.8.4.4 TLS tls://dns.google HTTPS https://1.1.1.1/dns-query To ensure that system DNS is in effect, rather than go's built-in default resolver, enable CGO at compile time. address_resolver Required if address contains domain Tag of a another server to resolve the domain name in the address. address_strategy The domain strategy for resolving the domain name in the address. One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . dns.strategy will be used if empty. detour Tag of an outbound for connecting to the dns server. Default outbound will be used if empty.","title":"DNS Server"},{"location":"configuration/dns/server/#structure","text":"{ \"dns\" : { \"servers\" : [ { \"tag\" : \"google\" , \"address\" : \"tls://dns.google\" , \"address_resolver\" : \"local\" , \"address_strategy\" : \"prefer_ipv4\" , \"detour\" : \"direct\" } ] } }","title":"Structure"},{"location":"configuration/dns/server/#fields","text":"","title":"Fields"},{"location":"configuration/dns/server/#tag","text":"The tag of the dns server.","title":"tag"},{"location":"configuration/dns/server/#address","text":"Required The address of the dns server. Protocol Format System local TCP tcp://1.0.0.1 UDP 8.8.8.8 udp://8.8.4.4 TLS tls://dns.google HTTPS https://1.1.1.1/dns-query To ensure that system DNS is in effect, rather than go's built-in default resolver, enable CGO at compile time.","title":"address"},{"location":"configuration/dns/server/#address_resolver","text":"Required if address contains domain Tag of a another server to resolve the domain name in the address.","title":"address_resolver"},{"location":"configuration/dns/server/#address_strategy","text":"The domain strategy for resolving the domain name in the address. One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . dns.strategy will be used if empty.","title":"address_strategy"},{"location":"configuration/dns/server/#detour","text":"Tag of an outbound for connecting to the dns server. Default outbound will be used if empty.","title":"detour"},{"location":"configuration/inbound/","text":"Structure { \"inbounds\" : [ { \"type\" : \"\" , \"tag\" : \"\" } ] } Fields Type Format direct Direct mixed Mixed socks Socks http HTTP shadowsocks Shadowsocks tun Tun redirect Redirect tproxy TProxy dns DNS tag The tag of the inbound.","title":"Index"},{"location":"configuration/inbound/#structure","text":"{ \"inbounds\" : [ { \"type\" : \"\" , \"tag\" : \"\" } ] }","title":"Structure"},{"location":"configuration/inbound/#fields","text":"Type Format direct Direct mixed Mixed socks Socks http HTTP shadowsocks Shadowsocks tun Tun redirect Redirect tproxy TProxy dns DNS","title":"Fields"},{"location":"configuration/inbound/#tag","text":"The tag of the inbound.","title":"tag"},{"location":"configuration/inbound/direct/","text":"direct inbound is a tunnel server. Structure { \"inbounds\" : [ { \"type\" : \"direct\" , \"tag\" : \"direct-in\" , \"listen\" : \"::\" , \"listen_port\" : 5353 , \"tcp_fast_open\" : false , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"udp_timeout\" : 300 , \"network\" : \"udp\" , \"override_address\" : \"1.0.0.1\" , \"override_port\" : 53 } ] } Listen Fields listen Required Listen address. listen_port Required Listen port. tcp_fast_open Enable tcp fast open for listener. sniff Enable sniffing. See Sniff for details. sniff_override_destination Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work. domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback. udp_timeout UDP NAT expiration time in seconds, default is 300 (5 minutes). Direct Fields network Listen network, one of tcp udp . Both if empty. override_address Override the connection destination address. override_port Override the connection destination port.","title":"Direct"},{"location":"configuration/inbound/direct/#structure","text":"{ \"inbounds\" : [ { \"type\" : \"direct\" , \"tag\" : \"direct-in\" , \"listen\" : \"::\" , \"listen_port\" : 5353 , \"tcp_fast_open\" : false , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"udp_timeout\" : 300 , \"network\" : \"udp\" , \"override_address\" : \"1.0.0.1\" , \"override_port\" : 53 } ] }","title":"Structure"},{"location":"configuration/inbound/direct/#listen-fields","text":"","title":"Listen Fields"},{"location":"configuration/inbound/direct/#listen","text":"Required Listen address.","title":"listen"},{"location":"configuration/inbound/direct/#listen_port","text":"Required Listen port.","title":"listen_port"},{"location":"configuration/inbound/direct/#tcp_fast_open","text":"Enable tcp fast open for listener.","title":"tcp_fast_open"},{"location":"configuration/inbound/direct/#sniff","text":"Enable sniffing. See Sniff for details.","title":"sniff"},{"location":"configuration/inbound/direct/#sniff_override_destination","text":"Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work.","title":"sniff_override_destination"},{"location":"configuration/inbound/direct/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback.","title":"domain_strategy"},{"location":"configuration/inbound/direct/#udp_timeout","text":"UDP NAT expiration time in seconds, default is 300 (5 minutes).","title":"udp_timeout"},{"location":"configuration/inbound/direct/#direct-fields","text":"","title":"Direct Fields"},{"location":"configuration/inbound/direct/#network","text":"Listen network, one of tcp udp . Both if empty.","title":"network"},{"location":"configuration/inbound/direct/#override_address","text":"Override the connection destination address.","title":"override_address"},{"location":"configuration/inbound/direct/#override_port","text":"Override the connection destination port.","title":"override_port"},{"location":"configuration/inbound/dns/","text":"dns inbound is a DNS server. Structure { \"inbounds\" : [ { \"type\" : \"dns\" , \"tag\" : \"dns-in\" , \"listen\" : \"::\" , \"listen_port\" : 5353 , \"network\" : \"udp\" } ] } There are no outbound connections by the DNS inbound, all requests are handled internally. Listen Fields listen Required Listen address. listen_port Required Listen port. DNS Fields network Listen network, one of tcp udp . Both if empty.","title":"DNS"},{"location":"configuration/inbound/dns/#structure","text":"{ \"inbounds\" : [ { \"type\" : \"dns\" , \"tag\" : \"dns-in\" , \"listen\" : \"::\" , \"listen_port\" : 5353 , \"network\" : \"udp\" } ] } There are no outbound connections by the DNS inbound, all requests are handled internally.","title":"Structure"},{"location":"configuration/inbound/dns/#listen-fields","text":"","title":"Listen Fields"},{"location":"configuration/inbound/dns/#listen","text":"Required Listen address.","title":"listen"},{"location":"configuration/inbound/dns/#listen_port","text":"Required Listen port.","title":"listen_port"},{"location":"configuration/inbound/dns/#dns-fields","text":"","title":"DNS Fields"},{"location":"configuration/inbound/dns/#network","text":"Listen network, one of tcp udp . Both if empty.","title":"network"},{"location":"configuration/inbound/http/","text":"socks inbound is a http server. Structure { \"inbounds\" : [ { \"type\" : \"http\" , \"tag\" : \"http-in\" , \"listen\" : \"::\" , \"listen_port\" : 2080 , \"tcp_fast_open\" : false , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"users\" : [ { \"username\" : \"admin\" , \"password\" : \"admin\" } ], \"set_system_proxy\" : false } ] } Listen Fields listen Required Listen address. listen_port Required Listen port. tcp_fast_open Enable tcp fast open for listener. sniff Enable sniffing. See Sniff for details. sniff_override_destination Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work. domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback. set_system_proxy Windows only Automatically set system proxy configuration when start and clean up when stop. HTTP Fields users HTTP users. No authentication required if empty.","title":"HTTP"},{"location":"configuration/inbound/http/#structure","text":"{ \"inbounds\" : [ { \"type\" : \"http\" , \"tag\" : \"http-in\" , \"listen\" : \"::\" , \"listen_port\" : 2080 , \"tcp_fast_open\" : false , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"users\" : [ { \"username\" : \"admin\" , \"password\" : \"admin\" } ], \"set_system_proxy\" : false } ] }","title":"Structure"},{"location":"configuration/inbound/http/#listen-fields","text":"","title":"Listen Fields"},{"location":"configuration/inbound/http/#listen","text":"Required Listen address.","title":"listen"},{"location":"configuration/inbound/http/#listen_port","text":"Required Listen port.","title":"listen_port"},{"location":"configuration/inbound/http/#tcp_fast_open","text":"Enable tcp fast open for listener.","title":"tcp_fast_open"},{"location":"configuration/inbound/http/#sniff","text":"Enable sniffing. See Sniff for details.","title":"sniff"},{"location":"configuration/inbound/http/#sniff_override_destination","text":"Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work.","title":"sniff_override_destination"},{"location":"configuration/inbound/http/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback.","title":"domain_strategy"},{"location":"configuration/inbound/http/#set_system_proxy","text":"Windows only Automatically set system proxy configuration when start and clean up when stop.","title":"set_system_proxy"},{"location":"configuration/inbound/http/#http-fields","text":"","title":"HTTP Fields"},{"location":"configuration/inbound/http/#users","text":"HTTP users. No authentication required if empty.","title":"users"},{"location":"configuration/inbound/mixed/","text":"mixed inbound is a socks4, socks4a, socks5 and http server. Structure { \"inbounds\" : [ { \"type\" : \"mixed\" , \"tag\" : \"mixed-in\" , \"listen\" : \"::\" , \"listen_port\" : 2080 , \"tcp_fast_open\" : false , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"users\" : [ { \"username\" : \"admin\" , \"password\" : \"admin\" } ], \"set_system_proxy\" : false } ] } Listen Fields listen Required Listen address. listen_port Required Listen port. tcp_fast_open Enable tcp fast open for listener. sniff Enable sniffing. See Sniff for details. sniff_override_destination Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work. domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback. set_system_proxy Windows only Automatically set system proxy configuration when start and clean up when stop. Mixed Fields users Socks and HTTP users. No authentication required if empty.","title":"Mixed"},{"location":"configuration/inbound/mixed/#structure","text":"{ \"inbounds\" : [ { \"type\" : \"mixed\" , \"tag\" : \"mixed-in\" , \"listen\" : \"::\" , \"listen_port\" : 2080 , \"tcp_fast_open\" : false , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"users\" : [ { \"username\" : \"admin\" , \"password\" : \"admin\" } ], \"set_system_proxy\" : false } ] }","title":"Structure"},{"location":"configuration/inbound/mixed/#listen-fields","text":"","title":"Listen Fields"},{"location":"configuration/inbound/mixed/#listen","text":"Required Listen address.","title":"listen"},{"location":"configuration/inbound/mixed/#listen_port","text":"Required Listen port.","title":"listen_port"},{"location":"configuration/inbound/mixed/#tcp_fast_open","text":"Enable tcp fast open for listener.","title":"tcp_fast_open"},{"location":"configuration/inbound/mixed/#sniff","text":"Enable sniffing. See Sniff for details.","title":"sniff"},{"location":"configuration/inbound/mixed/#sniff_override_destination","text":"Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work.","title":"sniff_override_destination"},{"location":"configuration/inbound/mixed/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback.","title":"domain_strategy"},{"location":"configuration/inbound/mixed/#set_system_proxy","text":"Windows only Automatically set system proxy configuration when start and clean up when stop.","title":"set_system_proxy"},{"location":"configuration/inbound/mixed/#mixed-fields","text":"","title":"Mixed Fields"},{"location":"configuration/inbound/mixed/#users","text":"Socks and HTTP users. No authentication required if empty.","title":"users"},{"location":"configuration/inbound/redirect/","text":"redirect inbound is a linux Redirect server. Structure { \"inbounds\" : [ { \"type\" : \"redirect\" , \"tag\" : \"redirect-in\" , \"listen\" : \"::\" , \"listen_port\" : 5353 , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" } ] } Listen Fields listen Required Listen address. listen_port Required Listen port. sniff Enable sniffing. See Sniff for details. sniff_override_destination Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work. domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback.","title":"Redirect"},{"location":"configuration/inbound/redirect/#structure","text":"{ \"inbounds\" : [ { \"type\" : \"redirect\" , \"tag\" : \"redirect-in\" , \"listen\" : \"::\" , \"listen_port\" : 5353 , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" } ] }","title":"Structure"},{"location":"configuration/inbound/redirect/#listen-fields","text":"","title":"Listen Fields"},{"location":"configuration/inbound/redirect/#listen","text":"Required Listen address.","title":"listen"},{"location":"configuration/inbound/redirect/#listen_port","text":"Required Listen port.","title":"listen_port"},{"location":"configuration/inbound/redirect/#sniff","text":"Enable sniffing. See Sniff for details.","title":"sniff"},{"location":"configuration/inbound/redirect/#sniff_override_destination","text":"Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work.","title":"sniff_override_destination"},{"location":"configuration/inbound/redirect/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback.","title":"domain_strategy"},{"location":"configuration/inbound/shadowsocks/","text":"shadowsocks inbound is a shadowsocks server. Structure { \"inbounds\" : [ { \"type\" : \"shadowsocks\" , \"tag\" : \"ss-in\" , \"listen\" : \"::\" , \"listen_port\" : 5353 , \"tcp_fast_open\" : false , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"udp_timeout\" : 300 , \"network\" : \"udp\" , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" } ] } Listen Fields listen Required Listen address. listen_port Required Listen port. tcp_fast_open Enable tcp fast open for listener. sniff Enable sniffing. See Sniff for details. sniff_override_destination Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work. domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback. udp_timeout UDP NAT expiration time in seconds, default is 300 (5 minutes). Shadowsocks Fields network Listen network, one of tcp udp . Both if empty. method Required Method Key Length 2022-blake3-aes-128-gcm 16 2022-blake3-aes-256-gcm 32 2022-blake3-chacha20-poly1305 32 none / aes-128-gcm / aes-192-gcm / aes-256-gcm / chacha20-ietf-poly1305 / xchacha20-ietf-poly1305 / password Required Method Password Format none / 2022 methods openssl rand -base64 <Key Length> other methods any string Multi-User Structure { \"inbounds\" : [ { \"type\" : \"shadowsocks\" , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" , \"users\" : [ { \"name\" : \"sekai\" , \"password\" : \"PCD2Z4o12bKUoFa3cC97Hw==\" } ] } ] } Relay Structure { \"inbounds\" : [ { \"type\" : \"shadowsocks\" , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" , \"destinations\" : [ { \"name\" : \"test\" , \"server\" : \"example.com\" , \"server_port\" : 8080 , \"password\" : \"PCD2Z4o12bKUoFa3cC97Hw==\" } ] } ] }","title":"Shadowsocks"},{"location":"configuration/inbound/shadowsocks/#structure","text":"{ \"inbounds\" : [ { \"type\" : \"shadowsocks\" , \"tag\" : \"ss-in\" , \"listen\" : \"::\" , \"listen_port\" : 5353 , \"tcp_fast_open\" : false , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"udp_timeout\" : 300 , \"network\" : \"udp\" , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" } ] }","title":"Structure"},{"location":"configuration/inbound/shadowsocks/#listen-fields","text":"","title":"Listen Fields"},{"location":"configuration/inbound/shadowsocks/#listen","text":"Required Listen address.","title":"listen"},{"location":"configuration/inbound/shadowsocks/#listen_port","text":"Required Listen port.","title":"listen_port"},{"location":"configuration/inbound/shadowsocks/#tcp_fast_open","text":"Enable tcp fast open for listener.","title":"tcp_fast_open"},{"location":"configuration/inbound/shadowsocks/#sniff","text":"Enable sniffing. See Sniff for details.","title":"sniff"},{"location":"configuration/inbound/shadowsocks/#sniff_override_destination","text":"Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work.","title":"sniff_override_destination"},{"location":"configuration/inbound/shadowsocks/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback.","title":"domain_strategy"},{"location":"configuration/inbound/shadowsocks/#udp_timeout","text":"UDP NAT expiration time in seconds, default is 300 (5 minutes).","title":"udp_timeout"},{"location":"configuration/inbound/shadowsocks/#shadowsocks-fields","text":"","title":"Shadowsocks Fields"},{"location":"configuration/inbound/shadowsocks/#network","text":"Listen network, one of tcp udp . Both if empty.","title":"network"},{"location":"configuration/inbound/shadowsocks/#method","text":"Required Method Key Length 2022-blake3-aes-128-gcm 16 2022-blake3-aes-256-gcm 32 2022-blake3-chacha20-poly1305 32 none / aes-128-gcm / aes-192-gcm / aes-256-gcm / chacha20-ietf-poly1305 / xchacha20-ietf-poly1305 /","title":"method"},{"location":"configuration/inbound/shadowsocks/#password","text":"Required Method Password Format none / 2022 methods openssl rand -base64 <Key Length> other methods any string","title":"password"},{"location":"configuration/inbound/shadowsocks/#multi-user-structure","text":"{ \"inbounds\" : [ { \"type\" : \"shadowsocks\" , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" , \"users\" : [ { \"name\" : \"sekai\" , \"password\" : \"PCD2Z4o12bKUoFa3cC97Hw==\" } ] } ] }","title":"Multi-User Structure"},{"location":"configuration/inbound/shadowsocks/#relay-structure","text":"{ \"inbounds\" : [ { \"type\" : \"shadowsocks\" , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" , \"destinations\" : [ { \"name\" : \"test\" , \"server\" : \"example.com\" , \"server_port\" : 8080 , \"password\" : \"PCD2Z4o12bKUoFa3cC97Hw==\" } ] } ] }","title":"Relay Structure"},{"location":"configuration/inbound/socks/","text":"socks inbound is a socks4, socks4a, socks5 server. Structure { \"inbounds\" : [ { \"type\" : \"socks\" , \"tag\" : \"socks-in\" , \"listen\" : \"::\" , \"listen_port\" : 2080 , \"tcp_fast_open\" : false , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"users\" : [ { \"username\" : \"admin\" , \"password\" : \"admin\" } ] } ] } Listen Fields listen Required Listen address. listen_port Required Listen port. tcp_fast_open Enable tcp fast open for listener. sniff Enable sniffing. See Sniff for details. sniff_override_destination Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work. domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback. Socks Fields users Socks users. No authentication required if empty.","title":"Socks"},{"location":"configuration/inbound/socks/#structure","text":"{ \"inbounds\" : [ { \"type\" : \"socks\" , \"tag\" : \"socks-in\" , \"listen\" : \"::\" , \"listen_port\" : 2080 , \"tcp_fast_open\" : false , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"users\" : [ { \"username\" : \"admin\" , \"password\" : \"admin\" } ] } ] }","title":"Structure"},{"location":"configuration/inbound/socks/#listen-fields","text":"","title":"Listen Fields"},{"location":"configuration/inbound/socks/#listen","text":"Required Listen address.","title":"listen"},{"location":"configuration/inbound/socks/#listen_port","text":"Required Listen port.","title":"listen_port"},{"location":"configuration/inbound/socks/#tcp_fast_open","text":"Enable tcp fast open for listener.","title":"tcp_fast_open"},{"location":"configuration/inbound/socks/#sniff","text":"Enable sniffing. See Sniff for details.","title":"sniff"},{"location":"configuration/inbound/socks/#sniff_override_destination","text":"Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work.","title":"sniff_override_destination"},{"location":"configuration/inbound/socks/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback.","title":"domain_strategy"},{"location":"configuration/inbound/socks/#socks-fields","text":"","title":"Socks Fields"},{"location":"configuration/inbound/socks/#users","text":"Socks users. No authentication required if empty.","title":"users"},{"location":"configuration/inbound/tproxy/","text":"tproxy inbound is a linux TProxy server. Structure { \"inbounds\" : [ { \"type\" : \"tproxy\" , \"tag\" : \"tproxy-in\" , \"listen\" : \"::\" , \"listen_port\" : 5353 , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"udp_timeout\" : 300 , \"network\" : \"udp\" } ] } Listen Fields listen Required Listen address. listen_port Required Listen port. sniff Enable sniffing. See Sniff for details. sniff_override_destination Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work. domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback. udp_timeout UDP NAT expiration time in seconds, default is 300 (5 minutes). TProxy Fields network Listen network, one of tcp udp . Both if empty.","title":"TProxy"},{"location":"configuration/inbound/tproxy/#structure","text":"{ \"inbounds\" : [ { \"type\" : \"tproxy\" , \"tag\" : \"tproxy-in\" , \"listen\" : \"::\" , \"listen_port\" : 5353 , \"sniff\" : false , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"udp_timeout\" : 300 , \"network\" : \"udp\" } ] }","title":"Structure"},{"location":"configuration/inbound/tproxy/#listen-fields","text":"","title":"Listen Fields"},{"location":"configuration/inbound/tproxy/#listen","text":"Required Listen address.","title":"listen"},{"location":"configuration/inbound/tproxy/#listen_port","text":"Required Listen port.","title":"listen_port"},{"location":"configuration/inbound/tproxy/#sniff","text":"Enable sniffing. See Sniff for details.","title":"sniff"},{"location":"configuration/inbound/tproxy/#sniff_override_destination","text":"Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work.","title":"sniff_override_destination"},{"location":"configuration/inbound/tproxy/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback.","title":"domain_strategy"},{"location":"configuration/inbound/tproxy/#udp_timeout","text":"UDP NAT expiration time in seconds, default is 300 (5 minutes).","title":"udp_timeout"},{"location":"configuration/inbound/tproxy/#tproxy-fields","text":"","title":"TProxy Fields"},{"location":"configuration/inbound/tproxy/#network","text":"Listen network, one of tcp udp . Both if empty.","title":"network"},{"location":"configuration/inbound/tun/","text":"Linux and Windows only Structure { \"inbounds\" : [ { \"type\" : \"tun\" , \"tag\" : \"tun-in\" , \"inet4_address\" : \"172.19.0.1/30\" , \"inet6_address\" : \"fdfe:dcba:9876::1/128\" , \"mtu\" : 1500 , \"auto_route\" : true , \"hijack_dns\" : true , \"sniff\" : true , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv4\" } ] } Tun Fields inet4_address Required IPv4 prefix for the tun interface. inet6_address IPv6 prefix for the tun interface. mtu The maximum transmission unit. auto_route Set the default route to the Tun. To avoid traffic loopback, set route.auto_detect_interface or route.default_interface or outbound.bind_interface hijack_dns Hijack TCP/UDP DNS requests to the built-in DNS adapter. Listen Fields sniff Enable sniffing. See Sniff for details. sniff_override_destination Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work. domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback.","title":"Tun"},{"location":"configuration/inbound/tun/#structure","text":"{ \"inbounds\" : [ { \"type\" : \"tun\" , \"tag\" : \"tun-in\" , \"inet4_address\" : \"172.19.0.1/30\" , \"inet6_address\" : \"fdfe:dcba:9876::1/128\" , \"mtu\" : 1500 , \"auto_route\" : true , \"hijack_dns\" : true , \"sniff\" : true , \"sniff_override_destination\" : false , \"domain_strategy\" : \"prefer_ipv4\" } ] }","title":"Structure"},{"location":"configuration/inbound/tun/#tun-fields","text":"","title":"Tun Fields"},{"location":"configuration/inbound/tun/#inet4_address","text":"Required IPv4 prefix for the tun interface.","title":"inet4_address"},{"location":"configuration/inbound/tun/#inet6_address","text":"IPv6 prefix for the tun interface.","title":"inet6_address"},{"location":"configuration/inbound/tun/#mtu","text":"The maximum transmission unit.","title":"mtu"},{"location":"configuration/inbound/tun/#auto_route","text":"Set the default route to the Tun. To avoid traffic loopback, set route.auto_detect_interface or route.default_interface or outbound.bind_interface","title":"auto_route"},{"location":"configuration/inbound/tun/#hijack_dns","text":"Hijack TCP/UDP DNS requests to the built-in DNS adapter.","title":"hijack_dns"},{"location":"configuration/inbound/tun/#listen-fields","text":"","title":"Listen Fields"},{"location":"configuration/inbound/tun/#sniff","text":"Enable sniffing. See Sniff for details.","title":"sniff"},{"location":"configuration/inbound/tun/#sniff_override_destination","text":"Override the connection destination address with the sniffed domain. If the domain name is invalid (like tor), this will not work.","title":"sniff_override_destination"},{"location":"configuration/inbound/tun/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. If sniff_override_destination is in effect, its value will be taken as a fallback.","title":"domain_strategy"},{"location":"configuration/outbound/","text":"Structure { \"outbounds\" : [ { \"type\" : \"\" , \"tag\" : \"\" } ] } Fields Type Format direct Direct block Block socks Socks http HTTP shadowsocks Shadowsocks selector Selector urltest URLTest tag The tag of the outbound.","title":"Index"},{"location":"configuration/outbound/#structure","text":"{ \"outbounds\" : [ { \"type\" : \"\" , \"tag\" : \"\" } ] }","title":"Structure"},{"location":"configuration/outbound/#fields","text":"Type Format direct Direct block Block socks Socks http HTTP shadowsocks Shadowsocks selector Selector urltest URLTest","title":"Fields"},{"location":"configuration/outbound/#tag","text":"The tag of the outbound.","title":"tag"},{"location":"configuration/outbound/block/","text":"block outbound closes all incoming requests. Structure { \"outbounds\" : [ { \"type\" : \"block\" , \"tag\" : \"block\" } ] } Fields No fields.","title":"Block"},{"location":"configuration/outbound/block/#structure","text":"{ \"outbounds\" : [ { \"type\" : \"block\" , \"tag\" : \"block\" } ] }","title":"Structure"},{"location":"configuration/outbound/block/#fields","text":"No fields.","title":"Fields"},{"location":"configuration/outbound/direct/","text":"direct outbound send requests directly. Structure { \"outbounds\" : [ { \"type\" : \"direct\" , \"tag\" : \"direct-out\" , \"override_address\" : \"1.0.0.1\" , \"override_port\" : 53 , \"detour\" : \"upstream-out\" , \"bind_interface\" : \"en0\" , \"routing_mark\" : 1234 , \"reuse_addr\" : false , \"connect_timeout\" : \"5s\" , \"tcp_fast_open\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"fallback_delay\" : \"300ms\" } ] } Direct Fields override_address Override the connection destination address. override_port Override the connection destination port. Dial Fields detour The tag of the upstream outbound. Other dial fields will be ignored when enabled. bind_interface The network interface to bind to. routing_mark The iptables routing mark. Only available in linux. reuse_addr Reuse listener address. connect_timeout Connect timeout, in golang's Duration format. A duration string is a possibly signed sequence of decimal numbers, each with optional fraction and a unit suffix, such as \"300ms\", \"-1.5h\" or \"2h45m\". Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\". domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. dns.strategy will be used if empty. fallback_delay The length of time to wait before spawning a RFC 6555 Fast Fallback connection. That is, is the amount of time to wait for IPv6 to succeed before assuming that IPv6 is misconfigured and falling back to IPv4 if prefer_ipv4 is set. If zero, a default delay of 300ms is used. Only take effect when domain_strategy is prefer_ipv4 or prefer_ipv6 .","title":"Direct"},{"location":"configuration/outbound/direct/#structure","text":"{ \"outbounds\" : [ { \"type\" : \"direct\" , \"tag\" : \"direct-out\" , \"override_address\" : \"1.0.0.1\" , \"override_port\" : 53 , \"detour\" : \"upstream-out\" , \"bind_interface\" : \"en0\" , \"routing_mark\" : 1234 , \"reuse_addr\" : false , \"connect_timeout\" : \"5s\" , \"tcp_fast_open\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"fallback_delay\" : \"300ms\" } ] }","title":"Structure"},{"location":"configuration/outbound/direct/#direct-fields","text":"","title":"Direct Fields"},{"location":"configuration/outbound/direct/#override_address","text":"Override the connection destination address.","title":"override_address"},{"location":"configuration/outbound/direct/#override_port","text":"Override the connection destination port.","title":"override_port"},{"location":"configuration/outbound/direct/#dial-fields","text":"","title":"Dial Fields"},{"location":"configuration/outbound/direct/#detour","text":"The tag of the upstream outbound. Other dial fields will be ignored when enabled.","title":"detour"},{"location":"configuration/outbound/direct/#bind_interface","text":"The network interface to bind to.","title":"bind_interface"},{"location":"configuration/outbound/direct/#routing_mark","text":"The iptables routing mark. Only available in linux.","title":"routing_mark"},{"location":"configuration/outbound/direct/#reuse_addr","text":"Reuse listener address.","title":"reuse_addr"},{"location":"configuration/outbound/direct/#connect_timeout","text":"Connect timeout, in golang's Duration format. A duration string is a possibly signed sequence of decimal numbers, each with optional fraction and a unit suffix, such as \"300ms\", \"-1.5h\" or \"2h45m\". Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\".","title":"connect_timeout"},{"location":"configuration/outbound/direct/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the requested domain name will be resolved to IP before routing. dns.strategy will be used if empty.","title":"domain_strategy"},{"location":"configuration/outbound/direct/#fallback_delay","text":"The length of time to wait before spawning a RFC 6555 Fast Fallback connection. That is, is the amount of time to wait for IPv6 to succeed before assuming that IPv6 is misconfigured and falling back to IPv4 if prefer_ipv4 is set. If zero, a default delay of 300ms is used. Only take effect when domain_strategy is prefer_ipv4 or prefer_ipv6 .","title":"fallback_delay"},{"location":"configuration/outbound/http/","text":"http outbound is a HTTP Connect client. Structure { \"outbounds\" : [ { \"type\" : \"http\" , \"tag\" : \"http-out\" , \"server\" : \"127.0.0.1\" , \"server_port\" : 1080 , \"username\" : \"sekai\" , \"password\" : \"admin\" , \"detour\" : \"upstream-out\" , \"bind_interface\" : \"en0\" , \"routing_mark\" : 1234 , \"reuse_addr\" : false , \"connect_timeout\" : \"5s\" , \"tcp_fast_open\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"fallback_delay\" : \"300ms\" } ] } HTTP Fields server Required The server address. server_port Required The server port. username Basic authorization username. password Basic authorization password. Dial Fields detour The tag of the upstream outbound. Other dial fields will be ignored when enabled. bind_interface The network interface to bind to. routing_mark The iptables routing mark. Only available in linux. reuse_addr Reuse listener address. connect_timeout Connect timeout, in golang's Duration format. A duration string is a possibly signed sequence of decimal numbers, each with optional fraction and a unit suffix, such as \"300ms\", \"-1.5h\" or \"2h45m\". Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\". domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the server domain name will be resolved to IP before connecting. dns.strategy will be used if empty. fallback_delay The length of time to wait before spawning a RFC 6555 Fast Fallback connection. That is, is the amount of time to wait for IPv6 to succeed before assuming that IPv6 is misconfigured and falling back to IPv4 if prefer_ipv4 is set. If zero, a default delay of 300ms is used. Only take effect when domain_strategy is prefer_ipv4 or prefer_ipv6 .","title":"HTTP"},{"location":"configuration/outbound/http/#structure","text":"{ \"outbounds\" : [ { \"type\" : \"http\" , \"tag\" : \"http-out\" , \"server\" : \"127.0.0.1\" , \"server_port\" : 1080 , \"username\" : \"sekai\" , \"password\" : \"admin\" , \"detour\" : \"upstream-out\" , \"bind_interface\" : \"en0\" , \"routing_mark\" : 1234 , \"reuse_addr\" : false , \"connect_timeout\" : \"5s\" , \"tcp_fast_open\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"fallback_delay\" : \"300ms\" } ] }","title":"Structure"},{"location":"configuration/outbound/http/#http-fields","text":"","title":"HTTP Fields"},{"location":"configuration/outbound/http/#server","text":"Required The server address.","title":"server"},{"location":"configuration/outbound/http/#server_port","text":"Required The server port.","title":"server_port"},{"location":"configuration/outbound/http/#username","text":"Basic authorization username.","title":"username"},{"location":"configuration/outbound/http/#password","text":"Basic authorization password.","title":"password"},{"location":"configuration/outbound/http/#dial-fields","text":"","title":"Dial Fields"},{"location":"configuration/outbound/http/#detour","text":"The tag of the upstream outbound. Other dial fields will be ignored when enabled.","title":"detour"},{"location":"configuration/outbound/http/#bind_interface","text":"The network interface to bind to.","title":"bind_interface"},{"location":"configuration/outbound/http/#routing_mark","text":"The iptables routing mark. Only available in linux.","title":"routing_mark"},{"location":"configuration/outbound/http/#reuse_addr","text":"Reuse listener address.","title":"reuse_addr"},{"location":"configuration/outbound/http/#connect_timeout","text":"Connect timeout, in golang's Duration format. A duration string is a possibly signed sequence of decimal numbers, each with optional fraction and a unit suffix, such as \"300ms\", \"-1.5h\" or \"2h45m\". Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\".","title":"connect_timeout"},{"location":"configuration/outbound/http/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the server domain name will be resolved to IP before connecting. dns.strategy will be used if empty.","title":"domain_strategy"},{"location":"configuration/outbound/http/#fallback_delay","text":"The length of time to wait before spawning a RFC 6555 Fast Fallback connection. That is, is the amount of time to wait for IPv6 to succeed before assuming that IPv6 is misconfigured and falling back to IPv4 if prefer_ipv4 is set. If zero, a default delay of 300ms is used. Only take effect when domain_strategy is prefer_ipv4 or prefer_ipv6 .","title":"fallback_delay"},{"location":"configuration/outbound/selector/","text":"Structure { \"outbounds\" : [ { \"type\" : \"selector\" , \"tag\" : \"select\" , \"outbounds\" : [ \"proxy-a\" , \"proxy-b\" , \"proxy-c\" ], \"default\" : \"proxy-c\" } ] } The selector can only be controlled through the Clash API currently. Fields outbounds Required List of outbound tags to select. default The default outbound tag. The first outbound will be used if empty.","title":"Selector"},{"location":"configuration/outbound/selector/#structure","text":"{ \"outbounds\" : [ { \"type\" : \"selector\" , \"tag\" : \"select\" , \"outbounds\" : [ \"proxy-a\" , \"proxy-b\" , \"proxy-c\" ], \"default\" : \"proxy-c\" } ] } The selector can only be controlled through the Clash API currently.","title":"Structure"},{"location":"configuration/outbound/selector/#fields","text":"","title":"Fields"},{"location":"configuration/outbound/selector/#outbounds","text":"Required List of outbound tags to select.","title":"outbounds"},{"location":"configuration/outbound/selector/#default","text":"The default outbound tag. The first outbound will be used if empty.","title":"default"},{"location":"configuration/outbound/shadowsocks/","text":"socks outbound is a socks4/socks4a/socks5 client. Structure { \"outbounds\" : [ { \"type\" : \"shadowsocks\" , \"tag\" : \"ss-out\" , \"server\" : \"127.0.0.1\" , \"server_port\" : 1080 , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" , \"network\" : \"udp\" , \"detour\" : \"upstream-out\" , \"bind_interface\" : \"en0\" , \"routing_mark\" : 1234 , \"reuse_addr\" : false , \"connect_timeout\" : \"5s\" , \"tcp_fast_open\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"fallback_delay\" : \"300ms\" } ] } Shadowsocks Fields server Required The server address. server_port Required The server port. method Required Encryption methods: 2022-blake3-aes-128-gcm 2022-blake3-aes-256-gcm 2022-blake3-chacha20-poly1305 none aes-128-gcm aes-192-gcm aes-256-gcm chacha20-ietf-poly1305 xchacha20-ietf-poly1305 Legacy encryption methods: aes-128-ctr aes-192-ctr aes-256-ctr aes-128-cfb aes-192-cfb aes-256-cfb rc4-md5 chacha20-ietf xchacha20 password Required The shadowsocks password. network Enabled network One of tcp udp . Both is enabled by default. Dial Fields detour The tag of the upstream outbound. Other dial fields will be ignored when enabled. bind_interface The network interface to bind to. routing_mark The iptables routing mark. Only available in linux. reuse_addr Reuse listener address. connect_timeout Connect timeout, in golang's Duration format. A duration string is a possibly signed sequence of decimal numbers, each with optional fraction and a unit suffix, such as \"300ms\", \"-1.5h\" or \"2h45m\". Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\". domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the server domain name will be resolved to IP before connecting. dns.strategy will be used if empty. fallback_delay The length of time to wait before spawning a RFC 6555 Fast Fallback connection. That is, is the amount of time to wait for IPv6 to succeed before assuming that IPv6 is misconfigured and falling back to IPv4 if prefer_ipv4 is set. If zero, a default delay of 300ms is used. Only take effect when domain_strategy is prefer_ipv4 or prefer_ipv6 .","title":"Shadowsocks"},{"location":"configuration/outbound/shadowsocks/#structure","text":"{ \"outbounds\" : [ { \"type\" : \"shadowsocks\" , \"tag\" : \"ss-out\" , \"server\" : \"127.0.0.1\" , \"server_port\" : 1080 , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" , \"network\" : \"udp\" , \"detour\" : \"upstream-out\" , \"bind_interface\" : \"en0\" , \"routing_mark\" : 1234 , \"reuse_addr\" : false , \"connect_timeout\" : \"5s\" , \"tcp_fast_open\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"fallback_delay\" : \"300ms\" } ] }","title":"Structure"},{"location":"configuration/outbound/shadowsocks/#shadowsocks-fields","text":"","title":"Shadowsocks Fields"},{"location":"configuration/outbound/shadowsocks/#server","text":"Required The server address.","title":"server"},{"location":"configuration/outbound/shadowsocks/#server_port","text":"Required The server port.","title":"server_port"},{"location":"configuration/outbound/shadowsocks/#method","text":"Required Encryption methods: 2022-blake3-aes-128-gcm 2022-blake3-aes-256-gcm 2022-blake3-chacha20-poly1305 none aes-128-gcm aes-192-gcm aes-256-gcm chacha20-ietf-poly1305 xchacha20-ietf-poly1305 Legacy encryption methods: aes-128-ctr aes-192-ctr aes-256-ctr aes-128-cfb aes-192-cfb aes-256-cfb rc4-md5 chacha20-ietf xchacha20","title":"method"},{"location":"configuration/outbound/shadowsocks/#password","text":"Required The shadowsocks password.","title":"password"},{"location":"configuration/outbound/shadowsocks/#network","text":"Enabled network One of tcp udp . Both is enabled by default.","title":"network"},{"location":"configuration/outbound/shadowsocks/#dial-fields","text":"","title":"Dial Fields"},{"location":"configuration/outbound/shadowsocks/#detour","text":"The tag of the upstream outbound. Other dial fields will be ignored when enabled.","title":"detour"},{"location":"configuration/outbound/shadowsocks/#bind_interface","text":"The network interface to bind to.","title":"bind_interface"},{"location":"configuration/outbound/shadowsocks/#routing_mark","text":"The iptables routing mark. Only available in linux.","title":"routing_mark"},{"location":"configuration/outbound/shadowsocks/#reuse_addr","text":"Reuse listener address.","title":"reuse_addr"},{"location":"configuration/outbound/shadowsocks/#connect_timeout","text":"Connect timeout, in golang's Duration format. A duration string is a possibly signed sequence of decimal numbers, each with optional fraction and a unit suffix, such as \"300ms\", \"-1.5h\" or \"2h45m\". Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\".","title":"connect_timeout"},{"location":"configuration/outbound/shadowsocks/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the server domain name will be resolved to IP before connecting. dns.strategy will be used if empty.","title":"domain_strategy"},{"location":"configuration/outbound/shadowsocks/#fallback_delay","text":"The length of time to wait before spawning a RFC 6555 Fast Fallback connection. That is, is the amount of time to wait for IPv6 to succeed before assuming that IPv6 is misconfigured and falling back to IPv4 if prefer_ipv4 is set. If zero, a default delay of 300ms is used. Only take effect when domain_strategy is prefer_ipv4 or prefer_ipv6 .","title":"fallback_delay"},{"location":"configuration/outbound/socks/","text":"socks outbound is a socks4/socks4a/socks5 client. Structure { \"outbounds\" : [ { \"type\" : \"socks\" , \"tag\" : \"socks-out\" , \"server\" : \"127.0.0.1\" , \"server_port\" : 1080 , \"version\" : \"5\" , \"username\" : \"sekai\" , \"password\" : \"admin\" , \"network\" : \"udp\" , \"detour\" : \"upstream-out\" , \"bind_interface\" : \"en0\" , \"routing_mark\" : 1234 , \"reuse_addr\" : false , \"connect_timeout\" : \"5s\" , \"tcp_fast_open\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"fallback_delay\" : \"300ms\" } ] } Socks Fields server Required The server address. server_port Required The server port. version The Socks version, one of 4 4a 5 . Socks5 used by default. username Socks username. password Socks5 password. network Enabled network One of tcp udp . Both is enabled by default. Dial Fields detour The tag of the upstream outbound. Other dial fields will be ignored when enabled. bind_interface The network interface to bind to. routing_mark The iptables routing mark. Only available in linux. reuse_addr Reuse listener address. connect_timeout Connect timeout, in golang's Duration format. A duration string is a possibly signed sequence of decimal numbers, each with optional fraction and a unit suffix, such as \"300ms\", \"-1.5h\" or \"2h45m\". Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\". domain_strategy One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the server domain name will be resolved to IP before connecting. dns.strategy will be used if empty. fallback_delay The length of time to wait before spawning a RFC 6555 Fast Fallback connection. That is, is the amount of time to wait for IPv6 to succeed before assuming that IPv6 is misconfigured and falling back to IPv4 if prefer_ipv4 is set. If zero, a default delay of 300ms is used. Only take effect when domain_strategy is prefer_ipv4 or prefer_ipv6 .","title":"Socks"},{"location":"configuration/outbound/socks/#structure","text":"{ \"outbounds\" : [ { \"type\" : \"socks\" , \"tag\" : \"socks-out\" , \"server\" : \"127.0.0.1\" , \"server_port\" : 1080 , \"version\" : \"5\" , \"username\" : \"sekai\" , \"password\" : \"admin\" , \"network\" : \"udp\" , \"detour\" : \"upstream-out\" , \"bind_interface\" : \"en0\" , \"routing_mark\" : 1234 , \"reuse_addr\" : false , \"connect_timeout\" : \"5s\" , \"tcp_fast_open\" : false , \"domain_strategy\" : \"prefer_ipv6\" , \"fallback_delay\" : \"300ms\" } ] }","title":"Structure"},{"location":"configuration/outbound/socks/#socks-fields","text":"","title":"Socks Fields"},{"location":"configuration/outbound/socks/#server","text":"Required The server address.","title":"server"},{"location":"configuration/outbound/socks/#server_port","text":"Required The server port.","title":"server_port"},{"location":"configuration/outbound/socks/#version","text":"The Socks version, one of 4 4a 5 . Socks5 used by default.","title":"version"},{"location":"configuration/outbound/socks/#username","text":"Socks username.","title":"username"},{"location":"configuration/outbound/socks/#password","text":"Socks5 password.","title":"password"},{"location":"configuration/outbound/socks/#network","text":"Enabled network One of tcp udp . Both is enabled by default.","title":"network"},{"location":"configuration/outbound/socks/#dial-fields","text":"","title":"Dial Fields"},{"location":"configuration/outbound/socks/#detour","text":"The tag of the upstream outbound. Other dial fields will be ignored when enabled.","title":"detour"},{"location":"configuration/outbound/socks/#bind_interface","text":"The network interface to bind to.","title":"bind_interface"},{"location":"configuration/outbound/socks/#routing_mark","text":"The iptables routing mark. Only available in linux.","title":"routing_mark"},{"location":"configuration/outbound/socks/#reuse_addr","text":"Reuse listener address.","title":"reuse_addr"},{"location":"configuration/outbound/socks/#connect_timeout","text":"Connect timeout, in golang's Duration format. A duration string is a possibly signed sequence of decimal numbers, each with optional fraction and a unit suffix, such as \"300ms\", \"-1.5h\" or \"2h45m\". Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\".","title":"connect_timeout"},{"location":"configuration/outbound/socks/#domain_strategy","text":"One of prefer_ipv4 prefer_ipv6 ipv4_only ipv6_only . If set, the server domain name will be resolved to IP before connecting. dns.strategy will be used if empty.","title":"domain_strategy"},{"location":"configuration/outbound/socks/#fallback_delay","text":"The length of time to wait before spawning a RFC 6555 Fast Fallback connection. That is, is the amount of time to wait for IPv6 to succeed before assuming that IPv6 is misconfigured and falling back to IPv4 if prefer_ipv4 is set. If zero, a default delay of 300ms is used. Only take effect when domain_strategy is prefer_ipv4 or prefer_ipv6 .","title":"fallback_delay"},{"location":"configuration/outbound/urltest/","text":"Structure { \"outbounds\" : [ { \"type\" : \"urltest\" , \"tag\" : \"auto\" , \"outbounds\" : [ \"proxy-a\" , \"proxy-b\" , \"proxy-c\" ], \"url\" : \"http://www.gstatic.com/generate_204\" , \"interval\" : \"1m\" , \"tolerance\" : 50 } ] } Fields outbounds Required List of outbound tags to test. url The URL to test. http://www.gstatic.com/generate_204 will be used if empty. interval The test interval. 1m will be used if empty. tolerance The test tolerance in milliseconds. 50 will be used if empty.","title":"URLTest"},{"location":"configuration/outbound/urltest/#structure","text":"{ \"outbounds\" : [ { \"type\" : \"urltest\" , \"tag\" : \"auto\" , \"outbounds\" : [ \"proxy-a\" , \"proxy-b\" , \"proxy-c\" ], \"url\" : \"http://www.gstatic.com/generate_204\" , \"interval\" : \"1m\" , \"tolerance\" : 50 } ] }","title":"Structure"},{"location":"configuration/outbound/urltest/#fields","text":"","title":"Fields"},{"location":"configuration/outbound/urltest/#outbounds","text":"Required List of outbound tags to test.","title":"outbounds"},{"location":"configuration/outbound/urltest/#url","text":"The URL to test. http://www.gstatic.com/generate_204 will be used if empty.","title":"url"},{"location":"configuration/outbound/urltest/#interval","text":"The test interval. 1m will be used if empty.","title":"interval"},{"location":"configuration/outbound/urltest/#tolerance","text":"The test tolerance in milliseconds. 50 will be used if empty.","title":"tolerance"},{"location":"configuration/route/","text":"Structure { \"route\" : { \"geoip\" : {}, \"geosite\" : {}, \"rules\" : [], \"final\" : \"\" , \"auto_detect_interface\" : false , \"default_interface\" : \"en0\" } } Fields Key Format geoip GeoIP geosite Geosite rules List of Route Rule final Default outbound tag. the first outbound will be used if empty. auto_detect_interface Linux and Windows only Bind outbound connections to the default NIC by default to prevent routing loops under Tun. Takes no effect if outbound.bind_interface is set. default_interface Linux and Windows only Bind outbound connections to the specified NIC by default to prevent routing loops under Tun. Takes no effect if auto_detect_interface is set.","title":"Index"},{"location":"configuration/route/#structure","text":"{ \"route\" : { \"geoip\" : {}, \"geosite\" : {}, \"rules\" : [], \"final\" : \"\" , \"auto_detect_interface\" : false , \"default_interface\" : \"en0\" } }","title":"Structure"},{"location":"configuration/route/#fields","text":"Key Format geoip GeoIP geosite Geosite rules List of Route Rule","title":"Fields"},{"location":"configuration/route/#final","text":"Default outbound tag. the first outbound will be used if empty.","title":"final"},{"location":"configuration/route/#auto_detect_interface","text":"Linux and Windows only Bind outbound connections to the default NIC by default to prevent routing loops under Tun. Takes no effect if outbound.bind_interface is set.","title":"auto_detect_interface"},{"location":"configuration/route/#default_interface","text":"Linux and Windows only Bind outbound connections to the specified NIC by default to prevent routing loops under Tun. Takes no effect if auto_detect_interface is set.","title":"default_interface"},{"location":"configuration/route/geoip/","text":"geoip Structure { \"route\" : { \"geoip\" : { \"path\" : \"\" , \"download_url\" : \"\" , \"download_detour\" : \"\" } } } Fields path The path to the sing-geoip database. geoip.db will be used if empty. download_url The download URL of the sing-geoip database. Default is https://github.com/SagerNet/sing-geoip/releases/latest/download/geoip.db . download_detour The ag of the outbound to download the database. Default outbound will be used if empty.","title":"GeoIP"},{"location":"configuration/route/geoip/#geoip","text":"","title":"geoip"},{"location":"configuration/route/geoip/#structure","text":"{ \"route\" : { \"geoip\" : { \"path\" : \"\" , \"download_url\" : \"\" , \"download_detour\" : \"\" } } }","title":"Structure"},{"location":"configuration/route/geoip/#fields","text":"","title":"Fields"},{"location":"configuration/route/geoip/#path","text":"The path to the sing-geoip database. geoip.db will be used if empty.","title":"path"},{"location":"configuration/route/geoip/#download_url","text":"The download URL of the sing-geoip database. Default is https://github.com/SagerNet/sing-geoip/releases/latest/download/geoip.db .","title":"download_url"},{"location":"configuration/route/geoip/#download_detour","text":"The ag of the outbound to download the database. Default outbound will be used if empty.","title":"download_detour"},{"location":"configuration/route/geosite/","text":"geosite Structure { \"route\" : { \"geosite\" : { \"path\" : \"\" , \"download_url\" : \"\" , \"download_detour\" : \"\" } } } Fields path The path to the sing-geosite database. geosite.db will be used if empty. download_url The download URL of the sing-geoip database. Default is https://github.com/SagerNet/sing-geosite/releases/latest/download/geosite.db . download_detour The ag of the outbound to download the database. Default outbound will be used if empty.","title":"Geosite"},{"location":"configuration/route/geosite/#geosite","text":"","title":"geosite"},{"location":"configuration/route/geosite/#structure","text":"{ \"route\" : { \"geosite\" : { \"path\" : \"\" , \"download_url\" : \"\" , \"download_detour\" : \"\" } } }","title":"Structure"},{"location":"configuration/route/geosite/#fields","text":"","title":"Fields"},{"location":"configuration/route/geosite/#path","text":"The path to the sing-geosite database. geosite.db will be used if empty.","title":"path"},{"location":"configuration/route/geosite/#download_url","text":"The download URL of the sing-geoip database. Default is https://github.com/SagerNet/sing-geosite/releases/latest/download/geosite.db .","title":"download_url"},{"location":"configuration/route/geosite/#download_detour","text":"The ag of the outbound to download the database. Default outbound will be used if empty.","title":"download_detour"},{"location":"configuration/route/rule/","text":"Structure { \"route\" : { \"rules\" : [ { \"inbound\" : [ \"mixed-in\" ], \"network\" : \"tcp\" , \"user\" : [ \"usera\" , \"userb\" ], \"protocol\" : [ \"tls\" , \"http\" , \"quic\" ], \"domain\" : [ \"test.com\" ], \"domain_suffix\" : [ \".cn\" ], \"domain_keyword\" : [ \"test\" ], \"domain_regex\" : [ \"^stun\\\\..+\" ], \"geosite\" : [ \"cn\" ], \"source_geoip\" : [ \"private\" ], \"geoip\" : [ \"cn\" ], \"source_ip_cidr\" : [ \"10.0.0.0/24\" ], \"ip_cidr\" : [ \"10.0.0.0/24\" ], \"source_port\" : [ 12345 ], \"port\" : [ 80 , 443 ], \"outbound\" : \"direct\" }, { \"type\" : \"logical\" , \"mode\" : \"and\" , \"rules\" : [], \"outbound\" : \"direct\" } ] } } You can ignore the JSON Array [] tag when the content is only one item Default Fields The default rule uses the following matching logic: ( domain || domain_suffix || domain_keyword || domain_regex || geosite || geoip || ip_cidr ) && ( source_geoip || source_ip_cidr ) && other fields inbound Tags of inbound . user Username, see each inbound for details. protocol Sniffed protocol, see Sniff for details. network tcp or udp . domain Match full domain. domain_suffix Match domain suffix. domain_keyword Match domain using keyword. domain_regex Match domain using regular expression. geosite Match geosite. source_geoip Match source geoip. geoip Match geoip. source_ip_cidr Match source ip cidr. ip_cidr Match ip cidr. source_port Match source port. port Match port. outbound Tag of the target outbound. Logical Fields type logical mode and or or rules Included default rules. outbound Tag of the target outbound.","title":"Route Rule"},{"location":"configuration/route/rule/#structure","text":"{ \"route\" : { \"rules\" : [ { \"inbound\" : [ \"mixed-in\" ], \"network\" : \"tcp\" , \"user\" : [ \"usera\" , \"userb\" ], \"protocol\" : [ \"tls\" , \"http\" , \"quic\" ], \"domain\" : [ \"test.com\" ], \"domain_suffix\" : [ \".cn\" ], \"domain_keyword\" : [ \"test\" ], \"domain_regex\" : [ \"^stun\\\\..+\" ], \"geosite\" : [ \"cn\" ], \"source_geoip\" : [ \"private\" ], \"geoip\" : [ \"cn\" ], \"source_ip_cidr\" : [ \"10.0.0.0/24\" ], \"ip_cidr\" : [ \"10.0.0.0/24\" ], \"source_port\" : [ 12345 ], \"port\" : [ 80 , 443 ], \"outbound\" : \"direct\" }, { \"type\" : \"logical\" , \"mode\" : \"and\" , \"rules\" : [], \"outbound\" : \"direct\" } ] } } You can ignore the JSON Array [] tag when the content is only one item","title":"Structure"},{"location":"configuration/route/rule/#default-fields","text":"The default rule uses the following matching logic: ( domain || domain_suffix || domain_keyword || domain_regex || geosite || geoip || ip_cidr ) && ( source_geoip || source_ip_cidr ) && other fields","title":"Default Fields"},{"location":"configuration/route/rule/#inbound","text":"Tags of inbound .","title":"inbound"},{"location":"configuration/route/rule/#user","text":"Username, see each inbound for details.","title":"user"},{"location":"configuration/route/rule/#protocol","text":"Sniffed protocol, see Sniff for details.","title":"protocol"},{"location":"configuration/route/rule/#network","text":"tcp or udp .","title":"network"},{"location":"configuration/route/rule/#domain","text":"Match full domain.","title":"domain"},{"location":"configuration/route/rule/#domain_suffix","text":"Match domain suffix.","title":"domain_suffix"},{"location":"configuration/route/rule/#domain_keyword","text":"Match domain using keyword.","title":"domain_keyword"},{"location":"configuration/route/rule/#domain_regex","text":"Match domain using regular expression.","title":"domain_regex"},{"location":"configuration/route/rule/#geosite","text":"Match geosite.","title":"geosite"},{"location":"configuration/route/rule/#source_geoip","text":"Match source geoip.","title":"source_geoip"},{"location":"configuration/route/rule/#geoip","text":"Match geoip.","title":"geoip"},{"location":"configuration/route/rule/#source_ip_cidr","text":"Match source ip cidr.","title":"source_ip_cidr"},{"location":"configuration/route/rule/#ip_cidr","text":"Match ip cidr.","title":"ip_cidr"},{"location":"configuration/route/rule/#source_port","text":"Match source port.","title":"source_port"},{"location":"configuration/route/rule/#port","text":"Match port.","title":"port"},{"location":"configuration/route/rule/#outbound","text":"Tag of the target outbound.","title":"outbound"},{"location":"configuration/route/rule/#logical-fields","text":"","title":"Logical Fields"},{"location":"configuration/route/rule/#type","text":"logical","title":"type"},{"location":"configuration/route/rule/#mode","text":"and or or","title":"mode"},{"location":"configuration/route/rule/#rules","text":"Included default rules.","title":"rules"},{"location":"configuration/route/rule/#outbound_1","text":"Tag of the target outbound.","title":"outbound"},{"location":"configuration/route/sniff/","text":"If enabled in the inbound, the protocol and domain name (if present) of by the connection can be sniffed. Supported Protocols Network Protocol Domain Name TCP HTTP Host TCP TLS Server Name UDP QUIC Server Name UDP STUN /","title":"Protocol Sniff"},{"location":"configuration/route/sniff/#supported-protocols","text":"Network Protocol Domain Name TCP HTTP Host TCP TLS Server Name UDP QUIC Server Name UDP STUN /","title":"Supported Protocols"},{"location":"examples/","text":"Examples Configuration examples for sing-box. Shadowsocks Server Shadowsocks Client Shadowsocks Tun","title":"Examples"},{"location":"examples/#examples","text":"Configuration examples for sing-box. Shadowsocks Server Shadowsocks Client Shadowsocks Tun","title":"Examples"},{"location":"examples/ss-client/","text":"Shadowsocks Client { \"inbounds\" : [ { \"type\" : \"mixed\" , \"listen\" : \"::\" , \"listen_port\" : 2080 } ], \"outbounds\" : [ { \"type\" : \"shadowsocks\" , \"server\" : \"::\" , \"server_port\" : 8080 , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" } ] }","title":"Shadowsocks Client"},{"location":"examples/ss-client/#shadowsocks-client","text":"{ \"inbounds\" : [ { \"type\" : \"mixed\" , \"listen\" : \"::\" , \"listen_port\" : 2080 } ], \"outbounds\" : [ { \"type\" : \"shadowsocks\" , \"server\" : \"::\" , \"server_port\" : 8080 , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" } ] }","title":"Shadowsocks Client"},{"location":"examples/ss-server/","text":"Shadowsocks Server { \"inbounds\" : [ { \"type\" : \"shadowsocks\" , \"listen\" : \"::\" , \"listen_port\" : 8080 , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" } ] }","title":"Shadowsocks Server"},{"location":"examples/ss-server/#shadowsocks-server","text":"{ \"inbounds\" : [ { \"type\" : \"shadowsocks\" , \"listen\" : \"::\" , \"listen_port\" : 8080 , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" } ] }","title":"Shadowsocks Server"},{"location":"examples/ss-tun/","text":"{ \"dns\" : { \"servers\" : [ { \"tag\" : \"google\" , \"address\" : \"tls://8.8.8.8\" }, { \"tag\" : \"local\" , \"address\" : \"223.5.5.5\" , \"detour\" : \"direct\" } ], \"rules\" : [ { \"domain\" : \"mydomain.com\" , \"geosite\" : \"cn\" , \"server\" : \"local\" } ], \"strategy\" : \"ipv4_only\" }, \"inbounds\" : [ { \"type\" : \"tun\" , \"inet4_address\" : \"172.19.0.1/30\" , \"auto_route\" : true , \"hijack_dns\" : true , \"sniff\" : true } ], \"outbounds\" : [ { \"type\" : \"shadowsocks\" , \"tag\" : \"proxy\" , \"server\" : \"mydomain.com\" , \"server_port\" : 8080 , \"method\" : \"2022-blake3-aes-128-gcm\" , \"password\" : \"8JCsPssfgS8tiRwiMlhARg==\" }, { \"type\" : \"direct\" , \"tag\" : \"direct\" }, { \"type\" : \"block\" , \"tag\" : \"block\" } ], \"route\" : { \"rules\" : [ { \"geosite\" : \"category-ads-all\" , \"outbound\" : \"block\" }, { \"geosite\" : \"cn\" , \"geoip\" : \"cn\" , \"outbound\" : \"direct\" } ], \"auto_detect_interface\" : true } }","title":"Shadowsocks Tun"}]}